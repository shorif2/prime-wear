import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as x}from"./index.C7R7J_0t.js";import{b as y,i as f}from"./cart2.D96fcsPX.js";const j=({product:e})=>{const[l,s]=x.useState(1),o=()=>{s(a=>a+1)},c=()=>{s(a=>a>1?a-1:1)},d=a=>{const i=Math.max(1,parseInt(a.target.value)||1);s(i)},m=(()=>{if(!e.variants.length)return{valid:!0};const a=e.variants.some(r=>r.size),i=e.variants.some(r=>r.color);if(a&&!e.selectedSize)return{valid:!1,error:"Please select all options"};if(i&&!e.selectedColor)return{valid:!1,error:"Please select all options"};const n=e.variants.find(r=>(!e.selectedSize||r.size===e.selectedSize)&&(!e.selectedColor||r.color===e.selectedColor));return n?n.stock<=0?{valid:!1,error:"Selected option out of stock"}:{valid:!0,variant:n}:{valid:!1,error:"Selected combination not available"}})().variant,u=()=>{const a={id:e.id,slug:e.slug,name:e.name,price:e.price,image:e.imageSrc,quantity:l,variantId:m?.id,size:e?.selectedSize,color:e.selectedColor};a&&(y(a),f.set(!0))};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mt-4",children:[t.jsx("h3",{className:"text-sm text-gray-800 uppercase mb-1",children:"Quantity"}),t.jsx("label",{htmlFor:"quantity",className:"sr-only",children:"Product quantity"}),t.jsxs("div",{className:"flex text-gray-600 divide-x divide-gray-300 w-max",children:[t.jsx("button",{type:"button",id:"quantity-minus",onClick:c,className:"h-8 w-8 border border-gray-300 text-xl flex items-center justify-center cursor-pointer select-none","aria-label":"Decrease quantity",children:"-"}),t.jsx("input",{type:"number",id:"quantity",name:"quantity",min:1,value:l,onChange:d,"aria-label":"Product quantity",className:"h-8 w-10 text-center text-base flex items-center justify-center no-spinner"}),t.jsx("button",{type:"button",id:"quantity-plus",onClick:o,className:"h-8 w-8 text-xl flex items-center justify-center cursor-pointer select-none border border-gray-300","aria-label":"Increase quantity",children:"+"})]})]}),t.jsxs("div",{className:"mt-6 flex gap-3 border-b border-gray-200 pb-5 pt-5",children:[t.jsxs("button",{onClick:u,className:"bg-primary border border-primary text-white px-8 py-2 font-medium rounded uppercase flex items-center gap-2 hover:bg-transparent hover:text-primary transition",children:[t.jsx("i",{className:"fa-solid fa-bag-shopping"})," Add to cart"]}),t.jsxs("a",{href:"#",className:"border border-gray-300 text-gray-600 px-8 py-2 font-medium rounded uppercase flex items-center gap-2 hover:text-primary transition",children:[t.jsx("i",{className:"fa-solid fa-heart"})," Wishlist"]})]})]})};export{j as default};
