---
import AddToCartButton from "../ui/AddToCartButton";
const { product } = Astro.props;
---

<a
  href={`/products/${product?.slug}`}
  class="bg-white rounded-xl overflow-hidden relative transition-all duration-300 hover:shadow-3xl animate-fade-in-up group"
>
  <!-- Discount Badge -->
  {
    product?.discountPercentage && (
      <div class="absolute top-4 right-4 bg-red-500 text-white px-2 py-0.5 rounded-full text-[12px] font-semibold z-10 animate-pulse-slow">
        {product?.discountPercentage}% OFF
      </div>
    )
  }

  <!-- Product Image -->
  <div
    class="h-56 bg-gray-100 relative overflow-hidden flex items-center justify-center"
  >
    <img
      src={product?.imageUrl}
      alt="Men's Denim Jeans"
      class="w-full h-full transition-transform duration-300 group-hover:scale-105"
    />
  </div>

  <!-- Product Info -->
  <div class="p-6 text-center border">
    <h3 class="text-[18px] font-medium text-gray-800 mb-3 leading-relaxed">
      <!-- Men's Denim Jeans – Slim Fit -->
      {product?.name?.slice(0, 20)}
    </h3>

    <!-- Pricing -->
    <div class="mb-4">
      <span class="text-xl font-bold text-gray-800 mr-2"
        >₹{product?.discountedPrice}</span
      >
      {
        product?.discountPercentage && (
          <span class="text-gray-500 text-[14px] line-through">
            ₹${product?.price}
          </span>
        )
      }
    </div>

    <!-- Order Button -->
    <button
      class="w-full bg-gradient-to-r from-gray-800 to-gray-700 text-white py-1 px-2 rounded-full text-[18px] font-semibold transition-all duration-300 hover:shadow-lg hover:shadow-gray-800/30 active:translate-y-0 relative overflow-hidden shine-effect"
    >
      Order Now
    </button>
  </div>
</a>

<style>
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes pulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.05);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out;
  }

  .animate-pulse-slow {
    animation: pulse 2s infinite;
  }

  .shine-effect::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: left 0.5s;
  }

  .shine-effect:hover::before {
    left: 100%;
  }
</style>
